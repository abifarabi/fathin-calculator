:root {
    --bg: #f7f7fb;
    --card: #ffffff;
    --text: #222;
    --muted: #6b6b7a;
    --accent: #7c5cff;
    --op: #ff7a7a;
  }
  
  [data-theme="dark"] {
    --bg: #0f1115;
    --card: #131519;
    --text: #eee;
    --muted: #9aa0b4;
    --accent: #8b7bff;
    --op: #ff867a;
  }
  
  [data-theme="blue"] {
    --bg: #154D71;
    --card: #1C6EA4;
    --text: #FFF9AF;
    --muted: #567;
    --accent: #33A1E0;
    --op: #FFF9AF;
  }
  
  [data-theme="green"] {
    --bg: #3E5F44;
    --card: #5E936C;
    --text: #E8FFD7;
    --muted: #93DA97;
    --accent: #93DA97;
    --op: #E8FFD7;
  }
  
  [data-theme="pastel"] {
    --bg: #fff7fa;
    --card: #ffffff;
    --text: #444;
    --muted: #777;
    --accent: #ffb6c1;
    --op: #ff8da1;
  }
  
  * { box-sizing: border-box }
  html, body {
    height: 100%;
    margin: 0;
    font-family: Inter, ui-sans-serif, system-ui, Segoe UI, Roboto, 'Helvetica Neue', Arial;
  }
  body {
    background: var(--bg);
    color: var(--text);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }
  .app { width: 100%; max-width: 820px }
  .app-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px }
  .app-header h1 { margin: 0; font-weight: 600 }
  .controls select { padding: 6px 8px; border-radius: 8px; }
  
  .calculator { display: grid; grid-template-columns: 1fr 220px; gap: 16px }
  .display { background: var(--card); padding: 14px; border-radius: 14px; box-shadow: 0 6px 18px rgba(2,6,23,0.06) }
  .expr { min-height: 28px; font-size: 18px; color: var(--muted); word-wrap: break-word }
  .result { font-size: 28px; font-weight: 700; margin-top: 6px }
  .history-preview { font-size: 12px; color: var(--muted); min-height: 18px }
  
  .keypad { display: grid; grid-template-columns: repeat(4,1fr); gap: 10px; margin-top: 12px }
  .btn { padding: 16px; border-radius: 10px; border: 0; font-size: 18px; cursor: pointer; box-shadow: 0 2px 0 rgba(0,0,0,0.03); transition: all 0.15s ease; }
  .btn.num { background: #f2f4ff }
  .btn.op { background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent); color: var(--op) }
  .btn.eq { grid-column: 3/4; background: var(--accent); color: white }
  
  /* Animasi hover/klik */
  .btn:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.12); }
  .btn:active { transform: translateY(1px) scale(0.98); box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
  
  .history { background: var(--card); padding: 12px; border-radius: 12px; align-self: start }
  .history h2 { margin: 0 0 8px 0; font-size: 16px }
  .history ul { list-style: none; padding: 0; margin: 0; max-height: 320px; overflow: auto }
  .history li { padding: 8px; border-radius: 8px; margin-bottom: 6px; background: rgba(0,0,0,0.03); cursor: pointer; transition: background 0.2s }
  .history li:hover { background: rgba(0,0,0,0.08) }
  .small { margin-top: 8px; padding: 8px 10px; border-radius: 8px; border: 0; background: transparent; cursor: pointer; transition: background 0.2s }
  .small:hover { background: rgba(0,0,0,0.06) }
  
  .app-footer { margin-top: 14px; text-align: center; color: var(--muted) }
  
  @media (max-width: 700px) {
    .calculator { grid-template-columns: 1fr; }
    .history { order: 3 }
  }
  